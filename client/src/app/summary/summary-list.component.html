
<div layout-gt-sm="row">
    <div flex-gt-sm="80" flex-offset-gt-sm="10">
        <mat-card>
            <mat-card-title id="summary-list-title"><h2>Summary Page</h2></mat-card-title>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
            <mat-divider></mat-divider>
            <h3><u><i>Filtering:</i></u></h3>


            <form>
                <!--# The Angular feature-->
                <label> Mood:</label>
                <select name="dropdown" id="summaryMood" #input placeholder="Filter by Mood" (input)="summaryMood = $event.target.value">
                    <option id ="dropdownAllMoods" selected value="All" disabled>All Moods</option>
                    <option id = "dropdownRadiant" value="Radiant">Radiant</option>
                    <option id ="dropdownHappy" value="Happy">Happy</option>
                    <option id ="dropdownMeh" value="Meh">Meh</option>
                    <option id ="dropdownDown" value="Down">Down</option>
                    <option id ="dropdownSad" value="Sad">Sad</option>
                    <option id ="dropdownAnxious" value="Anxious">Anxious</option>
                </select>
            </form>

            <br>


            <mat-form-field class="start">
                <input
                    id = "startDate"
                    matInput [matDatepicker]="start"
                    placeholder="Choose a Start Date"
                    [(ngModel)]="startDate"
                    (input)="startDate = $event.target.value">
                <mat-datepicker-toggle id = "startButton" matSuffix [for]="start"></mat-datepicker-toggle>
                <mat-datepicker touchUi="true" #start></mat-datepicker>
            </mat-form-field>


            <mat-form-field class="end">
                <input
                    id = "endDate"
                    matInput [matDatepicker]="end"
                    placeholder="Choose an End Date"
                    [(ngModel)]="endDate"
                    (input)="endDate = $event.target.value">
                <mat-datepicker-toggle id = "endButton" matSuffix [for]="end"></mat-datepicker-toggle>
                <mat-datepicker touchUi="true" #end></mat-datepicker>
            </mat-form-field>

            <br>
            <br>

            <mat-divider></mat-divider>
            <div *ngFor="let summary of this.filterSummarys(summaryMood, startDate, endDate)">
            </div>
            <br>

            <p>Total Number of {{summaryMood}} Entries: {{totalNumberMoods()}}</p>
            <br>
            <br>

            <mat-accordion *ngIf="summarys; else summarysError" >
            </mat-accordion>


            <ng-template #summarysError>
                <mat-error>
                    There was a problem loading the users. Possibly the server is down or perhaps there are network
                    issues.
                </mat-error>
                <mat-error>
                    Please wait a bit and try again or start the server.
                </mat-error>
            </ng-template>


        </mat-card>
    </div>
</div>
